# 🧹 世界书大扫除 - SillyTavern 扩展

你是否坐拥几十甚至几百个废弃世界书懒得清理，无从下手？
你是否想要从此以后杜绝这种令人头痛的情况，让你的世界书列表告别堆积如山？

### 没关系，现在你的强来了！

---

## ✨ 功能

### 🌍 **智能列表展示**
以列表展示世界书状态：
- 是否绑定角色卡，是否为全局世界书
- 作为主要世界书绑定的卡
- 作为附加世界书绑定的卡
- 可搜索关键词，可批量删除
- 超简单查看哪些世界书是你不想要的！

### ❌ **删除角色时同时删除绑定主要世界书**
- 自动、省心、让你从此告别囤积废弃世界书！
- 可弹窗确认，防止误删

### 🏆 **替换/更新角色卡时同时更新主要世界书**
- 删除绑定的旧主要世界书
- 一步替换为最新版本的角色世界书！
- 有弹窗确认防止误操作，杜绝误删！

---

## 📋 详细功能介绍

### 🔄 自动清理系统
- **智能检测**：删除角色卡时自动检测关联的世界书
- **双重保护**：支持嵌入式世界书和链接世界书的识别
- **安全确认**：可选的确认对话框，让你清楚知道要删除什么

### 🎯 手动管理界面
- **分类显示**：
  - 🗑️ **孤立世界书**：已经没有角色在使用的世界书（可以安心删除）
  - 🔗 **关联世界书**：正在被角色使用的世界书（删除需谨慎）
- **批量操作**：支持多选，一键清理多个文件
- **关键词搜索**：快速定位你要找的世界书

### 🌐 全局世界书保护
- 自动识别并标记全局世界书（🌐 图标提醒）
- 防止误删重要的全局设置文件
- 支持筛选仅显示全局世界书

### 🔍 高级筛选功能
- **搜索范围**：
  - 文件名+角色名
  - 仅文件名
  - 仅角色名
- **显示筛选**：
  - 全部
  - 仅作为主要世界书
  - 仅作为附加世界书
  - 仅全局世界书

### 📝 智能世界书替换
- 导入新版角色卡时自动检测世界书更新
- 智能提示是否需要替换旧版世界书
- 支持将嵌入式世界书转换为独立文件

---

## 📥 安装指南

1. 复制链接：`https://github.com/Nythyl/ST-Extension-Cleanup-World-Lorebook`
2. 打开酒馆的【扩展】界面，点击右上角的【安装扩展】按钮
3. 跳出来界面后，将链接粘贴在第一个输入框中
4. 点击 `Install for all users` 或者 `Install just for me`
5. 安装完成后，点击【扩展】界面右上角的【管理扩展】
6. 下滑，直到你找到【🧹世界书大扫除】的名字，勾选 ☑️ 它
7. 完成！

---

## ⚙️ 设置选项

### 基础设置
- **删除角色时自动清理世界书**：让废弃世界书无处遁形
- **导入角色时替换世界书**：保持世界书始终最新
- **清理前显示确认对话框**：多一层保护，少一份后悔
- **强制加载角色数据**：解决部分角色数据加载不完整的问题
---

## 📄 使用协议

**禁止二传二改商用**

本扩展仅供个人使用，禁止：
- 二次传播（未经授权的再分发）
- 二次修改（未经授权的代码修改后发布）
- 商业使用（任何形式的商业化行为）

如需授权，请联系作者。

---

## 👤 作者

羽吻奈 (Nythyl)
